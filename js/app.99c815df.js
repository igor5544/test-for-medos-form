(function(e){function t(t){for(var s,a,l=t[0],n=t[1],d=t[2],u=0,c=[];u<l.length;u++)a=l[u],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&c.push(i[a][0]),i[a]=0;for(s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);m&&m(t);while(c.length)c.shift()();return o.push.apply(o,d||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],s=!0,l=1;l<r.length;l++){var n=r[l];0!==i[n]&&(s=!1)}s&&(o.splice(t--,1),e=a(a.s=r[0]))}return e}var s={},i={app:0},o=[];function a(t){if(s[t])return s[t].exports;var r=s[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=s,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(r,s,function(t){return e[t]}.bind(null,s));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="testForm/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],n=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var m=n;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"01b8":function(e,t,r){},"3c61":function(e,t,r){},"48ed":function(e,t,r){"use strict";var s=r("01b8"),i=r.n(s);i.a},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var s=r("2b0e"),i=r("1dce"),o=r.n(i),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("h2",[e._v("Форма регистрации нового клиента")]),r("hr"),e.successReg?e._e():r("form",{attrs:{method:"POST",novalidate:""},on:{submit:function(t){return t.preventDefault(),e.registerClient(t)}}},[r("fieldset",{directives:[{name:"show",rawName:"v-show",value:1===e.step,expression:"step === 1"}],staticClass:"step"},[r("legend",[e._v("Основная информация")]),r("div",{staticClass:"fields-wrapper"},[r("label",{attrs:{for:"last-name"}},[e._v(" Фамилия "),r("span",[e._v("*")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.formFields.lastName,expression:"formFields.lastName"}],class:{invalid:e.$v.formFields.lastName.$error},attrs:{type:"text",id:"last-name"},domProps:{value:e.formFields.lastName},on:{blur:function(t){return e.$v.formFields.lastName.$touch()},input:function(t){t.target.composing||e.$set(e.formFields,"lastName",t.target.value)}}}),e.$v.formFields.lastName.alpha?e.$v.formFields.lastName.$error?r("p",{staticClass:"invalid__message"},[e._v("Поле не может быть пустым")]):e._e():r("p",{staticClass:"invalid__message"},[e._v("Поле может содержать только символы кириллицы")])]),r("label",{attrs:{for:"name"}},[e._v(" Имя "),r("span",[e._v("*")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.formFields.name,expression:"formFields.name"}],class:{invalid:e.$v.formFields.name.$error},attrs:{type:"text",id:"name"},domProps:{value:e.formFields.name},on:{blur:function(t){return e.$v.formFields.name.$touch()},input:function(t){t.target.composing||e.$set(e.formFields,"name",t.target.value)}}}),e.$v.formFields.name.alpha?e.$v.formFields.name.$error?r("p",{staticClass:"invalid__message"},[e._v("Поле не может быть пустым")]):e._e():r("p",{staticClass:"invalid__message"},[e._v("Поле может содержать только символы кириллицы")])]),r("label",{attrs:{for:"middle-name"}},[e._v(" Отчество "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.formFields.middleName,expression:"formFields.middleName"}],class:{invalid:e.$v.formFields.middleName.$error},attrs:{type:"text",id:"middle-name"},domProps:{value:e.formFields.middleName},on:{blur:function(t){return e.$v.formFields.middleName.$touch()},input:function(t){t.target.composing||e.$set(e.formFields,"middleName",t.target.value)}}}),e.$v.formFields.middleName.alpha?e._e():r("p",{staticClass:"invalid__message"},[e._v("Поле может содержать только символы кириллицы")])]),r("label",{attrs:{for:"birthday"}},[e._v(" Дата рождения "),r("span",[e._v("*")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.formFields.birthday,expression:"formFields.birthday"}],class:{invalid:e.$v.formFields.birthday.$error},attrs:{type:"date",id:"birthday"},domProps:{value:e.formFields.birthday},on:{blur:function(t){return e.$v.formFields.birthday.$touch()},input:function(t){t.target.composing||e.$set(e.formFields,"birthday",t.target.value)}}}),e.$v.formFields.birthday.maxDate?e.$v.formFields.birthday.$error?r("p",{staticClass:"invalid__message"},[e._v("Поле не может быть пустым")]):e._e():r("p",{staticClass:"invalid__message"},[e._v("Дата рождения не может быть в будущем")])]),r("label",{attrs:{for:"telephone"}},[e._v(" Номер телефона "),r("span",[e._v("*")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.formFields.telephone,expression:"formFields.telephone"}],class:{invalid:e.$v.formFields.telephone.$error},attrs:{type:"tel",id:"telephone",placeholder:"+7(999)999-99-99"},domProps:{value:e.formFields.telephone},on:{blur:function(t){return e.$v.formFields.telephone.$touch()},input:function(t){t.target.composing||e.$set(e.formFields,"telephone",t.target.value)}}}),e.$v.formFields.telephone.tel?e.$v.formFields.telephone.$error?r("p",{staticClass:"invalid__message"},[e._v("Поле не может быть пустым")]):e._e():r("p",{staticClass:"invalid__message"},[e._v('Телефон должен иметь следующий вид "+7 (999) 999-99-99"')])]),r("label",{attrs:{for:"gender"}},[e._v(" Пол "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.formFields.gender,expression:"formFields.gender"}],on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.formFields,"gender",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"male"}},[e._v("Мужской")]),r("option",{attrs:{value:"female"}},[e._v("Женский")])])]),r("label",{attrs:{for:"сlient-group"}},[e._v(" Группа клиентов "),r("span",[e._v("*")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.formFields.сlientGroup,expression:"formFields.сlientGroup"}],class:{invalid:e.$v.formFields.сlientGroup.$error},attrs:{multiple:"",size:"3"},on:{blur:function(t){e.$v.formFields.сlientGroup.$touch()},change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.formFields,"сlientGroup",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"vip"}},[e._v("VIP")]),r("option",{attrs:{value:"problem"}},[e._v("Проблемные")]),r("option",{attrs:{value:"oms"}},[e._v("ОМС")])]),e.$v.formFields.сlientGroup.$error?r("p",{staticClass:"invalid__message"},[e._v("Поле не может быть пустым")]):e._e()]),r("label",{attrs:{for:"doctor"}},[e._v(" Лечащий врач "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.formFields.doctor,expression:"formFields.doctor"}],on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.formFields,"doctor",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"ivanov"}},[e._v("Иванов")]),r("option",{attrs:{value:"zaharom"}},[e._v("Захаров")]),r("option",{attrs:{value:"chernishova"}},[e._v("Чернышева")])])]),r("label",{staticClass:"checkbox-wrapper",attrs:{for:"sms"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.formFields.sms,expression:"formFields.sms"}],attrs:{type:"checkbox",id:"sms"},domProps:{checked:Array.isArray(e.formFields.sms)?e._i(e.formFields.sms,null)>-1:e.formFields.sms},on:{change:function(t){var r=e.formFields.sms,s=t.target,i=!!s.checked;if(Array.isArray(r)){var o=null,a=e._i(r,o);s.checked?a<0&&e.$set(e.formFields,"sms",r.concat([o])):a>-1&&e.$set(e.formFields,"sms",r.slice(0,a).concat(r.slice(a+1)))}else e.$set(e.formFields,"sms",i)}}}),e._v(" Не отправлять СМС ")])]),r("div",{staticClass:"btn-wrapper"},[r("button",{staticClass:"btn",attrs:{type:"button"},on:{click:e.nextStep}},[e._v("Продложить")])])]),r("fieldset",{directives:[{name:"show",rawName:"v-show",value:2===e.step,expression:"step === 2"}],staticClass:"step"},[r("legend",[e._v("Адрес")]),r("div",{staticClass:"fields-wrapper"},[r("label",{attrs:{for:"index"}},[e._v(" Индекс "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.formFields.index,expression:"formFields.index"}],class:{invalid:e.$v.formFields.index.$error},attrs:{type:"text",id:"index"},domProps:{value:e.formFields.index},on:{blur:function(t){return e.$v.formFields.index.$touch()},input:function(t){t.target.composing||e.$set(e.formFields,"index",t.target.value)}}}),e.$v.formFields.index.numeric?e._e():r("p",{staticClass:"invalid__message"},[e._v("Поле может содержать только цифры")])]),r("label",{attrs:{for:"country"}},[e._v(" Страна "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.formFields.country,expression:"formFields.country"}],class:{invalid:e.$v.formFields.country.$error},attrs:{type:"text",id:"country"},domProps:{value:e.formFields.country},on:{blur:function(t){return e.$v.formFields.country.$touch()},input:function(t){t.target.composing||e.$set(e.formFields,"country",t.target.value)}}}),e.$v.formFields.country.alpha?e._e():r("p",{staticClass:"invalid__message"},[e._v("Поле может содержать только символы кириллицы")])]),r("label",{attrs:{for:"region"}},[e._v(" Область "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.formFields.region,expression:"formFields.region"}],class:{invalid:e.$v.formFields.region.$error},attrs:{type:"text",id:"region"},domProps:{value:e.formFields.region},on:{blur:function(t){return e.$v.formFields.region.$touch()},input:function(t){t.target.composing||e.$set(e.formFields,"region",t.target.value)}}}),e.$v.formFields.region.alpha?e._e():r("p",{staticClass:"invalid__message"},[e._v("Поле может содержать только символы кириллицы")])]),r("label",{attrs:{for:"city"}},[e._v(" Город "),r("span",[e._v("*")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.formFields.city,expression:"formFields.city"}],class:{invalid:e.$v.formFields.city.$error},attrs:{type:"text",id:"city"},domProps:{value:e.formFields.city},on:{blur:function(t){return e.$v.formFields.city.$touch()},input:function(t){t.target.composing||e.$set(e.formFields,"city",t.target.value)}}}),e.$v.formFields.city.alpha?e.$v.formFields.city.$error?r("p",{staticClass:"invalid__message"},[e._v("Поле не может быть пустым")]):e._e():r("p",{staticClass:"invalid__message"},[e._v("Поле может содержать только символы кириллицы")])]),r("label",{attrs:{for:"street"}},[e._v(" Улица "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.formFields.street,expression:"formFields.street"}],class:{invalid:e.$v.formFields.street.$error},attrs:{type:"text",id:"street"},domProps:{value:e.formFields.street},on:{blur:function(t){return e.$v.formFields.street.$touch()},input:function(t){t.target.composing||e.$set(e.formFields,"street",t.target.value)}}}),e.$v.formFields.street.alpha?e._e():r("p",{staticClass:"invalid__message"},[e._v("Поле может содержать только символы кириллицы")])]),r("label",{attrs:{for:"house"}},[e._v(" Дом "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.formFields.house,expression:"formFields.house"}],attrs:{type:"text",id:"house"},domProps:{value:e.formFields.house},on:{input:function(t){t.target.composing||e.$set(e.formFields,"house",t.target.value)}}})])]),r("div",{staticClass:"btn-wrapper"},[r("button",{staticClass:"btn btn--prev",attrs:{type:"button"},on:{click:e.prevStep}},[e._v("Вернуться")]),r("button",{staticClass:"btn",attrs:{type:"button"},on:{click:e.nextStep}},[e._v("Продложить")])])]),r("fieldset",{directives:[{name:"show",rawName:"v-show",value:3===e.step,expression:"step === 3"}],staticClass:"step"},[r("legend",[e._v("Паспорт")]),r("div",{staticClass:"fields-wrapper"},[r("label",{attrs:{for:"document"}},[e._v(" Тип документа "),r("span",[e._v("*")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.formFields.document,expression:"formFields.document"}],class:{invalid:e.$v.formFields.document.$error},on:{blur:function(t){return e.$v.formFields.document.$touch()},change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.formFields,"document",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"passport"}},[e._v("Пасспорт")]),r("option",{attrs:{value:"birth-certificate"}},[e._v("Свидетельство о рождении")]),r("option",{attrs:{value:"drive-pass"}},[e._v("Вод. удостоверение")])]),e.$v.formFields.document.$error?r("p",{staticClass:"invalid__message"},[e._v("Поле не может быть пустым")]):e._e()]),r("label",{attrs:{for:"doc-series"}},[e._v(" Серия "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.formFields.docSeries,expression:"formFields.docSeries"}],class:{invalid:e.$v.formFields.docSeries.$error},attrs:{type:"text",id:"doc-series"},domProps:{value:e.formFields.docSeries},on:{blur:function(t){return e.$v.formFields.docSeries.$touch()},input:function(t){t.target.composing||e.$set(e.formFields,"docSeries",t.target.value)}}}),e.$v.formFields.docSeries.numeric?e._e():r("p",{staticClass:"invalid__message"},[e._v("Поле может содержать только цифры")])]),r("label",{attrs:{for:"doc-number"}},[e._v(" Номер "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.formFields.docNumber,expression:"formFields.docNumber"}],class:{invalid:e.$v.formFields.docNumber.$error},attrs:{type:"text",id:"doc-number"},domProps:{value:e.formFields.docNumber},on:{blur:function(t){return e.$v.formFields.docNumber.$touch()},input:function(t){t.target.composing||e.$set(e.formFields,"docNumber",t.target.value)}}}),e.$v.formFields.docNumber.numeric?e._e():r("p",{staticClass:"invalid__message"},[e._v("Поле может содержать только цифры")])]),r("label",{attrs:{for:"doc-origin"}},[e._v(" Кем выдан "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.formFields.docOrigin,expression:"formFields.docOrigin"}],attrs:{type:"text",id:"doc-origin"},domProps:{value:e.formFields.docOrigin},on:{input:function(t){t.target.composing||e.$set(e.formFields,"docOrigin",t.target.value)}}})]),r("label",{attrs:{for:"doc-date"}},[e._v(" Дата выдачи "),r("span",[e._v("*")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.formFields.docDate,expression:"formFields.docDate"}],class:{invalid:e.$v.formFields.docDate.$error},attrs:{type:"date",id:"doc-date"},domProps:{value:e.formFields.docDate},on:{blur:function(t){return e.$v.formFields.docDate.$touch()},input:function(t){t.target.composing||e.$set(e.formFields,"docDate",t.target.value)}}}),e.$v.formFields.docDate.maxDate?e.$v.formFields.docDate.$error?r("p",{staticClass:"invalid__message"},[e._v("Поле не может быть пустым")]):e._e():r("p",{staticClass:"invalid__message"},[e._v("Дата выдачи не может быть в будущем")])])]),r("div",{staticClass:"btn-wrapper"},[r("button",{staticClass:"btn btn--prev",attrs:{type:"button"},on:{click:e.prevStep}},[e._v("Вернуться")]),r("button",{staticClass:"btn",attrs:{type:"submit"}},[e._v("Зарегестрироваться")])])])]),e.successReg?r("SuccessAlert",{attrs:{formFields:e.formFields}}):e._e()],1)},l=[],n=(r("fb6a"),r("b64b"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("p",[e._v(e._s(e.formFields.name+" "+e.formFields.lastName))]),r("p",[e._v("Успешно зарегестрирован!")])])}),d=[],m={props:["formFields"]},u=m,c=(r("fa8f"),r("2877")),v=Object(c["a"])(u,n,d,!1,null,"3b794e2d",null),p=v.exports,f=r("b5ae"),_=f["helpers"].regex("alpha",/^[А-Яа-я\s]+$'*$/),F=f["helpers"].regex("tel",/^\+?[7][-\(]?\d{3}\)?-?\d{3}-?\d{2}-?\d{2}$/),h=function(e){return f["helpers"].withParams({type:"maxDate",value:e},(function(t){return!f["helpers"].req(t)||e>t}))},g=(new Date).toISOString().substring(0,10),$={name:"App",data:function(){return{step:1,successReg:"",formFields:{lastName:"",name:"",middleName:"",birthday:"",telephone:"",gender:"","сlientGroup":[],doctor:"",sms:"",index:"",country:"",region:"",city:"",street:"",house:"",document:"",docSeries:"",docNumber:"",docOrigin:"",docDate:""}}},validations:{formFields:{lastName:{required:f["required"],alpha:_},name:{required:f["required"],alpha:_},middleName:{alpha:_},birthday:{required:f["required"],maxDate:h(g)},telephone:{required:f["required"],tel:F},gender:{},"сlientGroup":{required:f["required"]},doctor:{},sms:{},index:{numeric:f["numeric"]},country:{alpha:_},region:{alpha:_},city:{required:f["required"],alpha:_},street:{alpha:_},house:{},document:{required:f["required"]},docSeries:{numeric:f["numeric"]},docNumber:{numeric:f["numeric"]},docOrigin:{},docDate:{required:f["required"],maxDate:h(g+1)}}},methods:{checkStep:function(){for(var e=!0,t=this.actualFormFieldKeys(),r=0;r<t.length;r++)this.$v.formFields[t[r]].$touch(),this.$v.formFields[t[r]].$invalid&&0!=e&&(e=!1);return e},nextStep:function(){if(0==this.checkStep())return!1;var e=this.$el.querySelectorAll(".step").length;this.step<e&&this.step++},prevStep:function(){this.step>1&&this.step--},registerClient:function(){this.$v.$touch(),this.$v.$invalid||(this.step=0,this.successReg=!0)},actualFormFieldKeys:function(){var e=this.$el.querySelectorAll(".step")[this.step-1].querySelectorAll("label").length,t=this.prevQuantityFields(),r=Object.keys(this.formFields).slice(t,t+e);return r},prevQuantityFields:function(){for(var e=0,t=0;t<this.step-1;t++)e+=this.$el.querySelectorAll(".step")[t].querySelectorAll("label").length;return console.log(this.$v.formFields.birthday.$model),e}},components:{SuccessAlert:p}},b=$,y=(r("48ed"),Object(c["a"])(b,a,l,!1,null,"d6353566",null)),x=y.exports;r("3c61");s["a"].use(o.a),s["a"].config.productionTip=!1,new s["a"]({render:function(e){return e(x)}}).$mount("#app"),s["a"].config.devtools=!0},ac4f:function(e,t,r){},fa8f:function(e,t,r){"use strict";var s=r("ac4f"),i=r.n(s);i.a}});
//# sourceMappingURL=app.99c815df.js.map